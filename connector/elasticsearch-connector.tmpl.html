<html>
<meta http-equiv="Cache-Control" content="no-store" />
<head>
<title>Elasticsearch Tableau Web Data Connector</title>

<!--(if target dev)><!--> 
  <link rel="stylesheet" href="bootstrap.css">
  <link rel="stylesheet" href="elasticsearch-connector.css">
<!--<!(endif)-->
<!--(if target dist)><!-->   
  <link rel="stylesheet" href="elasticsearch-connector.min.css">
<!--<!(endif)-->

<script src="https://public.tableau.com/javascripts/api/tableauwdc-1.1.0.js" type="text/javascript"></script>

<!--(if target dev)><!-->    
  <script src="jquery.js" type="text/javascript"></script>
  <script src="bootstrap.js" type="text/javascript"></script>
  <script src="lodash.js" type="text/javascript"></script>
  <script src="moment.min.js" type="text/javascript"></script>
  <script src="elasticsearch-connector.js" type="text/javascript"></script>
<!--<!(endif)-->
<!--(if target dist)><!-->   
  <script src="elasticsearch-connector.min.js" type="text/javascript"></script>
<!--<!(endif)-->

  

<script type="text/javascript">

</script>
</head>
<body>



  <div class="container-fluid">
    
    <div class="row">
      <div class="col-md-10 col-md-offset-1">

        <h2>Elasticsearch Tableau Web Data Connector</h2>
        <div class="es-logo"></div>
        
      </div>
    </div>
    
    <div id="divMessage" class="row" style="display: none">
      <div class="col-md-10 col-md-offset-1">
        <div class="alert alert-success">
        <p id="messageText"></p>
        </div>
      </div>
    </div>
    <div id="divError" class="row" style="display: none">
      <div class="col-md-10 col-md-offset-1">
        <div class="alert alert-danger">
        <p id="errorText"></p>
        </div>
      </div>
    </div>
    
    <div class="row no-tableau">
      <div class="col-md-10 col-md-offset-1">
        <div class="alert alert-info">
        <p>Please open this URL from within Tableau</p>
        </div>
      </div>
    </div>
        
    <div class="row tableau">
      <div class="col-md-10 col-md-offset-1">
   
        <form id="inputForm">
          <div class="form-group">
            <label for="inputConectionName">Connection Name</label>
            <input class="form-control" id="inputConnectionName" placeholder="Enter unique name of Tableau Data Connection">
          </div>
          <div class="checkbox">
            <label>
              <input id="cbUseBasicAuth" type="checkbox">Use HTTP Basic Authentication?
            </label>
          </div>
          <div class="form-group basic-auth-control" style="display: none;">
            <label for="inputUsername">Username</label>
            <input class="form-control" id="inputUsername" placeholder="Elasticsearch username">
          </div>
          <div class="form-group basic-auth-control" style="display: none;">
            <label for="inputPassword">Password</label>
            <input type="password" class="form-control" id="inputPassword">
          </div>
          <div class="form-group">
            <label for="inputElasticsearchUrl">Elasticsearch URL</label>
            <input class="form-control" id="inputElasticsearchUrl" placeholder="Elasticsearch URL">
          </div>
          <div class="form-group">
            <label for="inputElasticsearchIndex">Index Name</label>
            <input class="form-control" id="inputElasticsearchIndex" placeholder="Name of index like 'index1'">
          </div>
          <div class="form-group">
            <label for="inputElasticsearchType">Type</label>
            <input class="form-control" id="inputElasticsearchType" placeholder="Name of type like 'user'">
          </div>
          <div>
          </div>
          <div class="checkbox">
            <label>
              <input id="cbUseQuery" type="checkbox">Use custom query?
            </label>
          </div>
          <div id="divQuery" class="form-group" style="display: none;">
            <label for="textElasticsearchQuery">Query</label>
            <textarea class="form-control" rows="10" id="textElasticsearchQuery"></textarea>
          </div>
          <div class="form-group">
            <label for="inputBatchSize">Batch size of per request to Elasticsearch</label>
            <input type="number" class="form-control" id="inputBatchSize" value="10" placeholder="Batch size per request">
          </div>
          <div class="form-group">
            <label for="inputTotalLimit">Total limit on number of rows to sync</label>
            <input type="number" class="form-control" id="inputTotalLimit" value="100" placeholder="Total limit">
          </div>
          <button id="submitButton" type="submit" class="btn btn-default">Submit</button>
        </form>
      </div>

    </div>
    <div class="row" style="display: none">
      <div class="col-md-10 col-md-offset-1">
        <div class="alert alert-success">
        <p>To add more rows of data you will need to:</p>
        <ul>
          <li>Select Tableau's data menu
            <li>Select your data source name
              <li>Then select incremental refresh from extract menu.
        </ul>
        </div>
      </div>
    </div>
  </div>

<!-- Modal Start here-->
<div class="modal fade bs-example-modal-sm" id="myPleaseWait" tabindex="-1"
    role="dialog" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">
                    Querying data...
                 </h4>
            </div>
            <div class="modal-body">
                <div class="progress">
                    <div class="progress-bar progress-bar-info
                    progress-bar-striped active"
                    style="width: 100%">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Modal ends Here -->


</body>

</html>